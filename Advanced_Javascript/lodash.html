<!-- loadash  -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Lodash Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"></script>
  </head>
  <body>
  </body>

  <script>
      // times function how many times we want this process to run 
      randNumber = () => {
          return Math.round(Math.random() * 100)
      }
      // use it this way with the cdn call , and they are namespaced with this underscore 
      // lodash is a modern version of underscore takes 2 args, how many times you want to run it and the function
      const sampleNumbers = _.times(5, randNumber) // without lodash you would have to loop it so many times, and trying to 
      // store it in a var and it would be very messy 
      
      // filter if you tried to do this yourself it would be very messy 
          // filter
    const players = [ // imagine im building a top player report, or i want to highlight or show all the players of 300 
      { name: 'Bregman, A',  battingAverage: 0.284 },
      { name: 'Altuve, J',   battingAverage: 0.346 },
      { name: 'Springer, G', battingAverage: 0.283 },
      { name: 'Gurriel, Y',  battingAverage: 0.299 },
      { name: 'Gonzalez, M', battingAverage: 0.303 }
    ];
// filter takes in two args the array, and the function you wish to do on it 
// filter takes what you want to return, and loops the players arr and finds all the indexs that meets 
// those requirements and returns it 
    const overThreeHundred = _.filter(players, player => {
        return player.battingAverage > 0.300;
    });

    
    debugger;
    // key by will bring the 2b object to you 
     const roster = [
      { position: '3B', name: 'Bregman, A' },
      { position: '2B', name: 'Altuve, J' },
      { position: 'CF', name: 'Springer, G' },
      { position: '1B', name: 'Gurriel, Y' },
      { position: 'LF', name: 'Gonzalez, M' }
    ]

    const positions = _.keyBy(roster, 'position'); // makes the positon to be the key and return it 

    const secondBase = positions['2B']; // second base will return altuve 

    const thirdBase = positons['3B'] // will return the 3b bregman 

    // reduce needs the the previous value and the total value
    // reduce works like arguments you want to reduce , then the function and the args of total , num and tell it what to do 
    const sum = _.reduce([1, 2, 3], function(total, num) {
      return total + num;
    }, 0); // the last value is where you want to start it at 

    const homerunStats = [
      { name: 'Bregman, A',  hr: 19 },
      { name: 'Altuve, J',   hr: 24 },
      { name: 'Springer, G', hr: 34 },
      { name: 'Gurriel, Y',  hr: 18 },
      { name: 'Gonzalez, M', hr: 23 }
    ];
    // this recuce code is gonna takin the homerun stats as the array, then the function is gonna take the total of 0 and add it to the 
    // players homeruns
   
    const totalHomeruns = _.reduce(homerunStats, function(total, player) { 
      return total + player.hr;
    }, 0);

    const links = [// getting these links in from other places, and you can use reduce to make documents, not just addition 
      "https://google.com",
      "https://devcamp.com",
      "https://airbnb.com"
    ];

    const webLinks = _.reduce(links, function(content, link) { // the weblinks your looking to make, 
      return `<a href='${link}'>${link}</a><br>`.concat(content); // using string interpolation to render these in the a tags on the page
    }, ''); // and your use the concat method  to add the content to the string , and then start at '' (empty string) to add it to the page 

    // random
    lodashRandNumber = () => { // returning a random number generator , with lodashes _.random(first, last) takes in first
        // number you want to start at then last number you want to end at , and it will randomly pick a number between those 
      return _.random(1, 100);
    }

    const lodashSampleNumbers = _.times(5, lodashRandNumber); // _.times function takes in how many times and the function 

    console.log(lodashSampleNumbers);

    console.log(sampleNumbers) 
    console.log(overThreeHundred)
  </script>
</html>